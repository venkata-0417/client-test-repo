<div class="header pb-6">
  <div class="container-fluid">
    <div class="header-body">
      <div class="row align-items-center py-4">
        <div class="col-lg-6 col-7">
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--6" style="height: 110vh; margin-top: 20px;">
  <div class="row" style="height: 100%;">
    <div class="col-md-12" style="height: 100%;">
      <div class="card" style="height: 100%; box-shadow: 0px 7px 9px 5px #b7b7b7;">
        <div class="card-body"
          style="box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1); background-color: #ffffff; margin-bottom: 1rem;">

          <div class="col text-right" style="padding-right: 1%;">
            <button style="margin-right: 20px;" type="button" class="btn success" pTooltip="Download"
              tooltipPosition="top" (click)="onBack()">
              <i class="fa fa-arrow-left fa-lg"></i>
            </button>
          </div>

          <div class="row" style="margin: 20px 0;">
            <div class="col" style="margin-left: 10px;">
              <div class="form-group">
                <label for="ProjectName" class="form-label" style="font-weight: bold; color: #0f3464;">Project
                  Name</label>

                <div class="form-value" style="white-space: nowrap;">{{ProjectName}}</div>

              </div>
            </div>

            <div class="col" style="margin-left: 10px;">
              <div class="form-group">
                <label class="form-label" style="font-weight: bold; color: #0f3464;">Start
                  Date</label>
                <div class="form-value">{{StartDate}}</div>
              </div>
            </div>

            <div class="col" style="margin-left: 10px;">
              <div class="form-group">
                <label class="form-label" style="font-weight: bold; color: #0f3464;">End Date</label>
                <div class="form-value">{{EndDate}}</div>
              </div>
            </div>

            <div class="col" style="margin-left: 10px;">
              <div class="form-group">
                <label class="form-label" style="font-weight: bold; color: #0f3464;">Status</label>
                <div class="form-value">{{Status}}</div>
              </div>
            </div>

            <div class="col" style="margin-left: 10px;text-align: center;">
              <div class="form-group">
                <label class="form-label" style="font-weight: bold; color: #0f3464;">Contributor Beneficiary</label>
                <div class="form-value">{{Beneficiary}}</div>
              </div>
            </div>

            <div class="col" style="margin-left: 10px;text-align: center;">
              <div class="form-group">
                <label class="form-label" style="font-weight: bold; color: #0f3464;">Contributor Depositor</label>
                <div class="form-value">{{Depository}}</div>
              </div>
            </div>

            <!-- <div class="col" style="margin-left: 10px;text-align: center;">
              <div class="form-group">
                <label class="form-label"
                  style="font-weight: bold; color: #0f3464;">CrownUser</label>
                <div class="form-value">{{CrownUser}}</div>
              </div>
            </div> -->
          </div>


          <!-- Row to align Card and Tables -->
          <div class="container-fluid" style="margin-top: 20px;">
            <div class="row">
              <!-- Card -->
              <div class="col-lg-3 col-md-6">
                <div class="card" style="width: 100%; height: 25rem; box-shadow: 0px 7px 9px rgba(0,0,0,0.1);">
                  <div class="card-body d-flex flex-column align-items-center justify-content-center">
                    <!-- Pie chart with larger size -->
                    <p-chart type="doughnut" [data]="chartData" [options]="chartOptions"
                      style="width: 100%; height: 30rem; position: relative;">
               <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                 <span style="font-size: 1.5rem; font-weight: bold; color: #0f292e;">{{ totalSpaceInGB }} GB</span>
                 <br />
                 <small style="font-size: 0.9rem; color: #666;">Total Space</small>
               </div>
             </p-chart>
                    <!-- Labels below the chart -->
                    <!-- <div class="chart-labels mt-1">
                      <div class="label">
                        <span class="used-space"></span> Used Space: {{ UsedSizeInGB }} GB
                      </div>
                      <div class="label">
                        <span class="available-space"></span> Available Space: {{ RemainingSpaceInGB }} GB
                      </div>
                    </div> -->
                  </div>
                </div>
              </div>


              <!-- Tables -->
              <div class="col-lg-9 col-md-6">
                <!-- First Table -->
                <div class="dataTables_wrapper checklist-table w-100"
                  style="background-color: #ffffff;box-shadow: 0px 7px 9px 5px #c2cdd7;border-radius: 8px;overflow: hidden;">
                  <p-table [paginator]="true" [rows]="10" [value]="formattedData" [autoLayout]="true"
                    [showCurrentPageReport]="true" [rowsPerPageOptions]="[10, 25, 50, 100]" [(first)]="first"
                    (onPage)="paginate($event)" [loading]="loading"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                    <ng-template pTemplate="caption">
                      <div class="row">
                        <div class="col">
                          <input type="text" style="width: 18rem;" pInputText size="50" placeholder="Search records"
                            (input)="searchTable($event)" class="global-search search" />
                        </div>
                        <div *ngIf="_DownloadBtn" class="btn-group float-right">
                          <button type="button" class="btn success" pTooltip="Download" tooltipPosition="top"
                              (click)="onDownloadExcelFile('Project User List')">
                              <i class="fa fa-download fa-lg"></i>
                          </button>
                      </div>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                      <tr>
                        <th *ngFor="let col of headerList; let i = index" [ngStyle]="i == 0 && { width: '5%' }">
                          {{ col.header }}

                        </th>

                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-car let-rowIndex="rowIndex">
                      <tr>
                        <td *ngFor="let col of headerList">
                          {{ car[col.field] }}
                        </td>

                      </tr>
                    </ng-template>
                  </p-table>
                </div>

                <!-- Second Table -->
                <div class="dataTables_wrapper checklist-table w-100"
                  style="background-color: #ffffff;box-shadow: 0px 7px 9px 5px #c2cdd7;border-radius: 8px;overflow: hidden; margin-top: 30px;">
                  <p-table [paginator]="true" [rows]="10" [value]="formattedDataForPermissions" [autoLayout]="true"
                    [showCurrentPageReport]="true" [rowsPerPageOptions]="[10, 25, 50, 100]" [(first)]="first"
                    (onPage)="paginate($event)" [loading]="loading"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                    <ng-template pTemplate="caption">
                      <div class="row">
                        <div class="col">
                          <input type="text" style="width: 18rem;" pInputText size="50" placeholder="Search records"
                            (input)="searchTableForPermissions($event)" class="global-search search" />
                        </div>
                        <div *ngIf="_DownloadBtn" class="btn-group float-right">
                          <button type="button" class="btn success" pTooltip="Download" tooltipPosition="top"
                              (click)="onDownloadExcelFile('Project File List')">
                              <i class="fa fa-download fa-lg"></i>
                          </button>
                      </div>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                      <tr>
                        <th *ngFor="let col of headerListForPermissions; let i = index"
                          [ngStyle]="i == 0 && { width: '5%' }">
                          {{ col.header }}
                        </th>
                        <!-- <th style="width: 8%; text-align: center">ACTION</th> -->
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-car let-rowIndex="rowIndex">
                      <tr>
                        <td *ngFor="let col of headerListForPermissions">
                          {{ car[col.field] }}
                        </td>
                        <!-- <td> -->
                          <!-- <a style="margin-left: 11px;"><span class="btn-inner--icon"
                              (click)="SourceValidator(car)"><img tooltip="Source Code View"
                                src="assets/img/codeview.png" alt="Edit User" class="btn-image"
                                style=" width: 28px; height: 28px;margin-left: 10px;" /></span>
                          </a> -->
                          <!-- View Details -->
                          <!-- <button type="button" tooltip="Project Details"
                            style="margin-left: 10px;color: #000;width: 28px;height: 28px;"
                            class="btn btn-icon btn-secondary btn-icon-only rounded-circle"
                            (click)="SourceValidator(ProjectDetailsPopup,car)">
                            <span class="btn-inner--icon"><i class="fa fa-eye"
                                style="color: #000; margin-bottom: 6px; font-size: 13px"></i></span>
                          </button>
                        </td> -->
                      </tr>
                    </ng-template>
                  </p-table>
                </div>
              </div>
            </div>
          </div>
          <!-- End of Row -->
        </div>
      </div>
    </div>
  </div>
</div>



<p-toast position="top-right" [showTransformOptions]="'translateY(100%)'" [showTransitionOptions]="'1000ms'"
  [hideTransitionOptions]="'1000ms'" [showTransformOptions]="'translateX(100%)'"></p-toast>